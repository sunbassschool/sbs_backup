<!DOCTYPE html>
<html lang="fr" style="background-color: black;">
  <head>
    <meta charset="UTF-8" />
    <meta name="theme-color" content="#000000">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">

    <meta 
      name="viewport" 
      content="width=device-width, initial-scale=1, viewport-fit=cover, user-scalable=no"
    >

   <style>
/* ===============================
   BASE
   =============================== */
html, body {
  margin: 0;
  padding: 0;
  background: #000 !important;
  height: 100%;
  overflow: hidden; /* ‚úÖ UNE SEULE SOURCE DE V√âRIT√â */
}

/* ===============================
   APP (‚ö†Ô∏è CRITIQUE)
   =============================== */
#app {
  display: block !important;          /* üî• NE JAMAIS SUPPRIMER */
  min-height: 100dvh;                 /* iOS safe */
  background-color: black;
    height: 100dvh;
  overflow-y: auto;
opacity: 0;
    -webkit-overflow-scrolling: touch;

}
* {
  box-sizing: border-box;
}

img, video, canvas {
  max-width: 100%;
}
.app-visible { opacity: 1; transition: opacity .15s ease; }

/* ===============================
   SPLASH SCREEN
   =============================== */
#loading-screen {
  position: fixed;
  inset: 0;
  background: black;
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 9999;

  opacity: 1;                         /* visible par d√©faut */
  pointer-events: auto;
  transition: opacity 0.3s ease;
}

/* splash masqu√© (pilot√© UNIQUEMENT en JS) */
#loading-screen.hidden {
  opacity: 0;
  pointer-events: none;
}

/* ===============================
   LOGO
   =============================== */
#loading-logo {
  width: 80px;
  opacity: 0;
  transform: scale(0.9);
  transition: opacity 0.6s ease, transform 0.6s ease;
}

#loading-logo.logo-visible {
  opacity: 1;
  transform: scale(1);
}
/* ===============================
   FIX LARGEUR LAYOUT
   =============================== */
html, body, #app {
  width: 100%;
}

/* le layout racine doit occuper tout l'√©cran */
.app-container,
.layout,
.layout-root {
  width: 100%;
  min-width: 100%;
}

</style>

  </head>

  <body>
    <!-- üî• Loader global -->
    <div id="loading-screen">
      <img id="loading-logo" src="logo-512x512.png" alt="Chargement SunBassSchool" />

      <!-- üî• Barre visible UNIQUEMENT pendant refresh -->
      <div id="refresh-indicator">
        <div class="refresh-bar"></div>
      </div>
    </div>

    <div id="app"></div>
    <script type="module" src="/src/init/mainLoader.ts"></script>

    <script>
const splash = document.getElementById("loading-screen");
const logo = document.getElementById("loading-logo");

requestAnimationFrame(() => {
  splash.classList.add("visible");
  logo.classList.add("logo-visible");
});

window.__HIDE_SPLASH__ = () => {
  splash.classList.remove("visible");
  setTimeout(() => splash.remove(), 300);
};

    </script>
  </body>
</html>



